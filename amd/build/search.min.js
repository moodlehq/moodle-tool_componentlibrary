define ("tool_componentlibrary/search",["jquery","tool_componentlibrary/lunr","core/log"],function(a,b,c){var h,i,j;function d(d){a.getJSON(d).done(function(a){j=a;h=b(function(){this.field("title",{boost:10});this.field("tags",{boost:5});this.field("content");this.ref("uri");j.forEach(function(a){this.add(a)}.bind(this))})}).fail(function(a,b,d){c.debug("Error getting Hugo index file:"+b+", "+d)})}function e(){i=a("[data-region=\"docsearch\"] input");a("[data-region=\"docsearch\"] input").keyup(function(){i.empty();var b=a(this).val();if(2>b.length){return}var c=f(b);g(c)})}function f(a){return h.search(a).map(function(a){return j.filter(function(b){return b.uri===a.ref})[0]})}function g(b){if(!b.length){return}a("[data-region=\"docsearch\"] .dropdown-menu").html(" ");var c=M.cfg.wwwroot+"/admin/tool/componentlibrary/docspage.php";b.slice(0,10).forEach(function(b){var d=a("<li>");d.append(a("<a>",{class:"dropdown-item",href:c+b.uri,text:b.title}));a("[data-region=\"docsearch\"] .dropdown-menu").append(d)});a("[data-region=\"docsearch\"] .dropdown-menu").addClass("show");a("[data-region=\"docsearch\"]").addClass("show")}return{init:function(a){d(a);e()}}});
//# sourceMappingURL=search.min.js.map
